info:
  version: '2023.2.1'
  id: clipRaster
  title: clipRaster
  description: Clip a raster based on reference vector layer
  jobControlOptions:
    - sync-execute
  outputTransmission:
    - reference

runtime:
  repository:
  image: custom-gdal
  tag: latest
  description: GDAL image with python processes
  command:
    - clip_raster.py
  envVars:
    - AWS_ACCESS_KEY_ID
    - AWS_SECRET_ACCESS_KEY
    - CPL_VSIL_USE_TEMP_FILE_FOR_RANDOM_WRITE
    - S3_BUCKET

inputs:
  - id: inputRaster
    title: inputRaster
    input:
      literalDataDomain:
        dataType: string
        valueDefinition:
          anyValue: true
    minOccurs: 1
    maxOccurs: 1
  - id: maskLayer
    title: maskLayer
    input:
      literalDataDomain:
        dataType: string
        valueDefinition:
          anyValue: true
    minOccurs: 1
    maxOccurs: 1
  - id: clippedRasterDestination
    title: clippedRasterDestination
    input:
      literalDataDomain:
        dataType: string
        valueDefinition:
          anyValue: true
    minOccurs: 1
    maxOccurs: 1

outputs:
  - id: clippedRaster
    title: clippedRaster
    output:
      transmissionMode:
      - reference

